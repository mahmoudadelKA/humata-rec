أريد منك استكمال إعداد نظام الإدارة والداشبورد في موقعي ARKAN AI بعد استبدال Gemini بمزودي:
Groq + HuggingFace

حالياً توجد لوحة تحكم منفصلة عن الداشبورد، وأنا أريد تحويلهما إلى لوحة واحدة مدمجة بالكامل في صفحة واحدة فقط.

المطلوب تنفيذه بالكامل داخل المشروع:
1. إنشاء أو تحديث جداول قاعدة البيانات (Supabase)

أريدك أن تقوم بإنشاء الجداول اللازمة أو تعديلها (daily_stats, ai_requests, sessions, activity_logs, admin_users).

أنت مسؤول عن:

إنشاء الجداول

تحديثها إذا كانت ناقصة

ضمان أنها تعمل مع نظام Groq + HuggingFace الجديد

بدون أن أكتب كود SQL بنفسي — أنت الذي تضيفه في المشروع.

2. إضافة نظام Backend كامل للإحصائيات

أنشئ دوال backend تقوم بـ:

تخزين كل طلب AI في ai_requests

تحديث daily_stats يومياً

إدارة الجلسات وتتبع الأجهزة

حفظ سجل الأنشطة لكل زيارة

واجعل كل الأدوات (حتى غير AI) تسجّل نشاطاً لتظهر في لوحة التحكم.

3. دمج لوحة التحكم + الداشبورد في صفحة واحدة

هذا أهم جزء:

أريد صفحة واحدة فقط في المسار /admin

تحتوي على:

لوحة المعلومات

إدارة المفاتيح

الإحصائيات اليومية

الرسوم البيانية

الجلسات والأجهزة المتصلة حالياً

سجل النشاط

إعدادات الذكاء الاصطناعي (Groq + HuggingFace)

إدارة المستخدمين (Admins)

لا أريد صفحات منفصلة مثل /admin/keys أو /admin/dashboard.

كل شيء يجب أن يكون داخل صفحة /admin نفسها باستخدام واجهة 3D جميلة متناسقة مع الثيم الفرعوني الحديث.

4. تحديث الـ Backend ليستقبل لوحة تحكم واحدة

اجعل /admin/login صفحة الدخول فقط

بعد الدخول، يتم الانتقال إلى /admin

وكل قسم في الصفحة يطلب بياناته من REST API

لا أريد تكرار الأكواد أو صفحات متعددة

5. إصلاح مشكلة error 500 الحالية على /admin/keys

عالج جميع الأخطاء الناتجة عن:

الجداول الناقصة

المسارات غير الصحيحة

استدعاءات لم تعد موجودة بعد إزالة Gemini

مشاكل تهيئة المزود الجديد Groq

تأكد أن لوحة التحكم الجديدة تعمل بالكامل بدون أي Error 500.

6. إضافة Dashboard خاصة بمتابعة مزود Groq

داخل صفحة /admin:

عرض عدد الطلبات

استهلاك النماذج

الأخطاء المتكررة

أكثر الأدوات استخداماً

Latency charts

وأيضاً:

توزيع ذكي بين أكثر من مزود

Page rate limiting

Caching للطلبات

كل هذا يجب أن يتم إضافته داخل الكود دون أن أكتب شيئاً بنفسي.

7. تنفيذ كل شيء فعلياً داخل المشروع

لا أريد أمثلة ولا أكواد هنا في الشات.
أريدك أن:

تضيف الجداول

تنشئ الدوال

تبني لوحة التحكم

تعدل المسارات

تصلح الأخطاء

وتعيد تنظيم المشروع بالكامل بحيث يكون نظام الإدارة موحّد وقابل للتوسّع.

وبعد انتهائك:
أخبرني فقط بما تم تنفيذه وما هي المشاكل التي كانت موجودة وكيف تم حلّها.

هذا كل شيء.
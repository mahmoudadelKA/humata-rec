You are editing my existing Python Flask project on Replit.

I have a "music removal" tool that takes a YouTube URL, downloads the audio, then separates music from vocals. Right now, when I send a YouTube URL, I get this error:

INFO:root:Music removal: Downloading from URL: https://www.youtube.com/watch?v=ZjuvSYHTBPw
ERROR: unable to download video data: HTTP Error 403: Forbidden
ERROR:root:Music removal error: ERROR: unable to download video data: HTTP Error 403: Forbidden

I want you to do ALL the following in this project, in a safe and clean way, without breaking any other feature:

1. Update yt-dlp:
   - Open requirements.txt.
   - Make sure it contains this line (replace any existing yt-dlp line with this):
     yt-dlp>=2025.01.01
   - Do not remove any other packages.

2. Fix and centralize the YouTube download logic:
   - Find where yt_dlp is currently used to download from YouTube for the music removal feature.
   - Create (or update) a helper function like this (adapt names/paths to my project):

     ```python
     import yt_dlp
     import tempfile
     import os
     import logging

     logger = logging.getLogger(__name__)

     def download_audio_from_youtube(url: str) -> str:
         temp_dir = tempfile.gettempdir()
         out_path = os.path.join(temp_dir, "%(id)s.%(ext)s")

         ydl_opts = {
             "format": "bestaudio/best",
             "outtmpl": out_path,
             "noplaylist": True,
             "quiet": True,
             "nocheckcertificate": True,
             "geo_bypass": True,
             "http_headers": {
                 "User-Agent": (
                     "Mozilla/5.0 (Windows NT 10.0; Win64; x64) "
                     "AppleWebKit/537.36 (KHTML, like Gecko) "
                     "Chrome/120.0.0.0 Safari/537.36"
                 ),
                 "Accept-Language": "en-US,en;q=0.5",
             },
         }

         try:
             with yt_dlp.YoutubeDL(ydl_opts) as ydl:
                 info = ydl.extract_info(url, download=True)
                 filename = ydl.prepare_filename(info)
                 logger.info(f"Downloaded YouTube audio to: {filename}")
                 return filename
         except Exception as e:
             logger.error(f"Error downloading YouTube audio: {e}")
             raise
     ```

   - Integrate this helper into the project and use it wherever the music removal feature needs to download from YouTube.
   - Remove any duplicated or messy direct yt_dlp calls related specifically to music removal, and route them through this helper instead, as long as it does not break other features.

3. Update the music removal API endpoint:
   - Find the Flask route that receives a YouTube URL to perform music removal (e.g. /api/music-removal or similar).
   - Modify it so it:
     - Reads the URL from the request (JSON or form, depending on current code).
     - Calls download_audio_from_youtube(url) to get the local audio file path.
     - Passes that path into the existing music/vocals separation logic WITHOUT changing the internal separation logic itself.

   - Wrap the download call in try/except and return a clean JSON error on failure. For example (adapt to current structure):

     ```python
     from flask import request, jsonify

     @app.route("/api/music-removal", methods=["POST"])
     def music_removal():
         data = request.get_json() or {}
         url = data.get("url")

         if not url:
             return jsonify({"success": False, "message": "No URL provided"}), 400

         try:
             logger.info(f"Music removal: Downloading from URL: {url}")
             audio_path = download_audio_from_youtube(url)
         except Exception as e:
             logger.error(f"Music removal error during download: {e}")
             return jsonify({
                 "success": False,
                 "message": "Failed to download audio from YouTube. The video may be restricted, blocked, or YouTube rejected the request.",
             }), 500

         # Keep my existing separation logic the same, just use audio_path as input
         # Do whatever the original code did after having the file path,
         # and return the same success JSON structure as before when everything works.
     ```

4. Logging:
   - Keep or add logging that clearly shows:
     - The URL being processed.
     - The downloaded file path.
     - Any errors, prefixed with something like "Music removal error:".
   - Do not enable extremely noisy global debug logs.

5. Do NOT break anything else:
   - Do not remove or rename other routes.
   - Do not change any environment variable usage.
   - Do not touch unrelated features (speech recognition, OCR, other tools) except for necessary import adjustments.
   - If you refactor any shared utility, keep it backward compatible.

6. After changes:
   - Make sure the project still runs.
   - Ensure the music removal endpoint flow is: receive URL → download with yt-dlp → separate music/vocals → respond as before on success.
   - On failure (e.g. HTTP 403 from YouTube), the server should NOT crash, but return a proper JSON error response instead.

Add short comments near the new helper function and the updated route explaining what you changed, so I can understand later.
